<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>customer management</title>
  <link rel="stylesheet" href="assets/bootstrap-5.1.3-dist/bootstrap-5.1.3-dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap-5.1.3-dist/bootstrap-5.1.3-dist/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="assets/fontawesome/css/fontawesome.min.css">
  <link rel="stylesheet" href="assets/style/style.css">
</head>
<body>
<section id="customer">
  <h6>Home>Customers</h6>
  <div class="container-fluid">
    <div class="row" style=";background-color: #ffffff;border: 15px solid #bdc3c7;">
      <div class="col-lg-12" style="padding: 0;">
        <span style="padding-left: 10px">Customer Search</span>
      </div>
      <div class="col-lg-9">
        <input style="width: 95%;margin-left: 20px;margin-top: 20px;margin-bottom: 20px" type="text" placeholder="Input customer Name/Id Here">
      </div>
      <div class="col-lg-1">
        <button type="submit" style="font-weight: bold;margin: 20px"  data-bs-target="#editCustomerModel" data-bs-toggle="modal" class="btn btn-primary">Search</button>
      </div>
    </div>
    <div class="row">
      <dic class="col-lg-1">
        <button type="submit" style="width: 100px;margin: 10px" disabled id="btnEdit" data-bs-target="#editCustomerModel" data-bs-toggle="modal" class="btn btn-warning">Edit</button>
        <div id="editCustomerModel" class="modal" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header" style="background-color: #3498db">
                <h5 class="modal-title">Update Customer</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <label for="txtEditCustomerID" class="form-label">Customer ID :</label>
                  <input type="text" class="form-control" id="txtEditCustomerID" placeholder="C001">
                </div>
                <div class="mb-3">
                  <label for="txtEditCustomerNIC" class="form-label">Customer NIC :</label>
                  <input type="text" class="form-control" id="txtEditCustomerNIC" placeholder="C001">
                </div>
                <div class="mb-3">
                  <label for="txtEditCustomerName" class="form-label">Customer Name :</label>
                  <input type="text" class="form-control" id="txtEditCustomerName" placeholder="Shamodha">
                </div>
                <div class="mb-3">
                  <label for="txtEditCustomerSalary" class="form-label">Salary :</label>
                  <input type="number" class="form-control" id="txtEditCustomerSalary" placeholder="1000000.00">
                </div>
                <div class="mb-3">
                  <label for="txtEditCustomerAddress" class="form-label">Address :</label>
                  <input type="text" class="form-control" id="txtEditCustomerAddress" placeholder="kurunegala">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" id="btnUpdate" class="btn btn-primary">Update</button>
                <button type="button" id="btnDelete" class="btn btn-danger">Delete</button>
              </div>
            </div>
          </div>
        </div>

      </dic>
      <dic class="col-lg-1">
        <button type="submit" style="width: 100px;margin: 10px" data-bs-toggle="modal" data-bs-target="#newCustomerModel" class="btn btn-success">New</button>
        <div id="newCustomerModel" class="modal" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header" style="background-color: #3498db">
                <h5 class="modal-title">New Customer</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <label for="txtNewCustomerID" class="form-label">Customer ID :</label>
                  <input type="text" class="form-control" id="txtNewCustomerID" placeholder="C001">
                </div>
                <div class="mb-3">
                  <label for="txtNewCustomerNIC" class="form-label">Customer NIC :</label>
                  <input type="text" class="form-control" id="txtNewCustomerNIC" placeholder="C001">
                </div>
                <div class="mb-3">
                  <label for="txtNewCustomerName" class="form-label">Customer Name :</label>
                  <input type="text" class="form-control" id="txtNewCustomerName" placeholder="Shamodha">
                </div>
                <div class="mb-3">
                  <label for="txtNewCustomerSalary" class="form-label">Salary :</label>
                  <input type="number" class="form-control" id="txtNewCustomerSalary" placeholder="1000000.00">
                </div>
                <div class="mb-3">
                  <label for="txtNewCustomerAddress" class="form-label">Address :</label>
                  <input type="text" class="form-control" id="txtNewCustomerAddress" placeholder="kurunegala">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" id="btnSave" class="btn btn-primary">Save</button>
              </div>
            </div>
          </div>
        </div>

      </dic>
    </div>
  </div>
  <table id="table" class="table" style="background-color: #ffffff">
    <thead class="table-success">
      <tr>
        <th class="col-3">Customer ID</th>
        <th class="col-3">NIC</th>
        <th class="col-3">Name</th>
        <th class="col-2">Salary</th>
        <th class="col-2">Address</th>
      </tr>
    </thead>
    <tbody id="tBody">
      <tr>
        <td class="col" id="colId">C001</td>
        <td class="col" id="colNic" >200127103989</td>
        <td class="col" id="colName" >shamodha</td>
        <td class="col" id="colSalary" >100000.00</td>
        <td class="col" id="colAddress" >kurunegala</td>
      </tr>
    </tbody>
  </table>
</section>

<script src="assets/lib/jQuery/jquery-3.6.4.min.js"></script>
<script src="assets/bootstrap-5.1.3-dist/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
<script>

  document.getElementById("btnSave").addEventListener('click', function (){
    // get textField text and save table
    var id = $('#txtNewCustomerID').val();
    var nic = $('#txtNewCustomerNIC').val();
    var name = $('#txtNewCustomerName').val();
    var salary = $('#txtNewCustomerSalary').val();
    var address = $('#txtNewCustomerAddress').val();
    $('#tBody').append("<tr>" +
            "<td>"+id+"</td>" +
            "<td>"+nic+"</td>" +
            "<td>"+name+"</td>" +
            "<td>"+salary+"</td>" +
            "<td>"+address+"</td>" +
            "</tr>");
  })

  // table click and select row
  var table = document.getElementById('table'),
          selected = table.getElementsByClassName('selected');
          table.onclick = highlight;
          function highlight(e) {
            if (selected[0]) selected[0].className = '';
            e.target.parentNode.className = 'selected';
          }
  table.addEventListener('click', function(event) {
    // enable edit button
    document.getElementById('btnEdit').disabled = false;

    // get the clicked row
    let clickedRow = event.target.closest('tr');

    // fill fields
    let cells = clickedRow.querySelectorAll('td');
    // document.getElementById("txtEditCustomerID").value = cells[0].innerText;
    // document.getElementById("txtEditCustomerNIC").value = cells[1].innerText;
    // document.getElementById("txtEditCustomerName").value = cells[2].innerText;
    // document.getElementById("txtEditCustomerSalary").value = cells[3].innerText;
    // document.getElementById("txtEditCustomerAddress").value = cells[4].innerText;
  });

  document.getElementById("btnUpdate").addEventListener('click', function (){

  })
  document.getElementById("btnDelete").addEventListener('click', function (){
    // table.deleteRow(1);
  })
  document.getElementById('btnSave').addEventListener('click', function (){
    displaySelectRow();
  });
  function displaySelectRow(argument){
    var tb = document.getElementById("table");
    var tbLength = tb.rows.length;
    for (var i=0; i<tbLength; i++){
      tb.rows[i].onclick = function (){
        alert(this.rowIndex);
        console.log(this.rowIndex);
      }
    }
  }
</script>
</body>
</html>